const express= require('express')
const cors = require('cors')
const path = require('path')
const mongoose = require('mongoose')
const { Image } = require('./images.models')
const app = express()
const PORT = process.env.PORT || 4000

app.use(cors())
app.use(express.json())
app.use(express.static(path.join(__dirname, 'client/build')))


try {
    mongoose.connect('mongodb+srv://Richinbk:delladmin1@imagedatabase.fe0ef.mongodb.net/Main?retryWrites=true&w=majority', {useNewUrlParser: true, useUnifiedTopology:true})
    .then(() => console.log('connected to database'))
    .catch(() => console.log('Failed to connect to database'))
    
} catch (error) {
    console.log("Something in the databse broke")
}


app.get('*', (req,res) => {
    res.sendFile(path.join(__dirname + '/client/build/index.html'))
})


app.get('/hello', (req, res) => {
    res.send('Hello from the server')
})

app.get('/images', (req,res) => {
    try {
        console.log("--- IMages route----")
        Image.find({}, function(err, docs){
            if (err) res.send(err)
            console.log(docs)
            //res.json(JSON.stringify(docs))
            res.json({
                name: "ABCD",
                link: "data:image/jpeg;base64,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",
            })
        })
    } catch (error) {
        console.log(error)
    }
})

app.post('/images/add', (req,res) => {

    try {
        Image.create({ name: req.body.name, link: req.body.link }, function (err) {
            if (err) return handleError(err);
            // saved!
        });
        res.send('Image Sent')
    } catch (error) {
        console.log(error)
        res.send('Image failed to send')
    }
    
    
})

app.post('/images/remove/:id', (req,res) => {
    try {
        Image.deleteOne({_id: req.params.id}, function(err){
            if (err) console.log(err)
        })
        res.send('Image deleted')
        
    } catch (error) {
        //console.log(error)
        res.send('Image failed to delete')
    }

    
})

app.listen(PORT, () => {
    console.log(`Server started at port ${PORT}`)
})